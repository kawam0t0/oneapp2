{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/kawamotoshuntasuku/Desktop/dev/oneapp/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,mLAAO,EAAC,IAAA,0JAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/kawamotoshuntasuku/Desktop/dev/oneapp/components/sidebar.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport Link from \"next/link\"\nimport { usePathname } from \"next/navigation\"\nimport {\n  LayoutDashboard,\n  FileSpreadsheet,\n  ClipboardList,\n  Package,\n  CalendarDays,\n  Menu,\n  X,\n  ExternalLink,\n  LogOut,\n  Store,\n} from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\nimport { useAuth } from \"@/components/auth-provider\"\n\nconst menuItems = [\n  {\n    name: \"ダッシュボード\",\n    href: \"/\",\n    icon: LayoutDashboard,\n    external: false,\n  },\n  {\n    name: \"スプレッドシート\",\n    href: \"/spreadsheet\",\n    icon: FileSpreadsheet,\n    external: false,\n  },\n  {\n    name: \"行事カレンダー\",\n    href: \"/calendar\",\n    icon: CalendarDays,\n    external: false,\n  },\n  {\n    name: \"日報\",\n    href: \"https://www.appsheet.com/start/43947cc3-3995-4964-9245-9131aa293b5e\",\n    icon: ClipboardList,\n    external: true,\n  },\n  {\n    name: \"備品発注\",\n    href: \"https://kawam0t0-orderwebapp20250502.vercel.app/login\",\n    icon: Package,\n    external: true,\n  },\n  {\n    name: \"シフト\",\n    href: \"https://connect.airregi.jp/login?client_id=SFT&redirect_uri=https%3A%2F%2Fconnect.airregi.jp%2Foauth%2Fauthorize%3Fclient_id%3DSFT%26redirect_uri%3Dhttps%253A%252F%252Fairshift.jp%252Fsft%252Fcallback%26response_type%3Dcode%26state%3DredirectTo%253A%25252Fsft%25252F\",\n    icon: ExternalLink,\n    external: true,\n  },\n]\n\nexport function Sidebar() {\n  const [isOpen, setIsOpen] = useState(false)\n  const pathname = usePathname()\n  const { session, logout } = useAuth()\n\n  const handleLogout = async () => {\n    setIsOpen(false)\n    await logout()\n  }\n\n  return (\n    <>\n      <button\n        onClick={() => setIsOpen(true)}\n        className=\"fixed top-4 left-4 z-50 p-2 bg-white rounded-lg shadow-md\"\n        aria-label=\"メニューを開く\"\n      >\n        <Menu className=\"h-6 w-6 text-gray-700\" />\n      </button>\n\n      {isOpen && <div className=\"fixed inset-0 bg-black/50 z-40\" onClick={() => setIsOpen(false)} />}\n\n      <aside\n        className={cn(\n          \"fixed top-0 left-0 z-50 h-full w-64 bg-yellow-400 shadow-lg transform transition-transform duration-300 ease-in-out flex flex-col\",\n          isOpen ? \"translate-x-0\" : \"-translate-x-full\",\n        )}\n      >\n        <div className=\"flex items-center justify-between p-4 border-b border-yellow-500\">\n          <h1 className=\"text-lg font-bold text-gray-900\">ONEAPP</h1>\n          <button\n            onClick={() => setIsOpen(false)}\n            className=\"p-1 rounded-md hover:bg-yellow-500\"\n            aria-label=\"メニューを閉じる\"\n          >\n            <X className=\"h-5 w-5 text-gray-700\" />\n          </button>\n        </div>\n\n        {session && (\n          <div className=\"px-4 py-3 border-b border-yellow-500 bg-yellow-300\">\n            <div className=\"flex items-center gap-2 text-gray-800\">\n              <Store className=\"h-4 w-4\" />\n              <span className=\"text-sm font-medium truncate\">{session.store_name}</span>\n            </div>\n          </div>\n        )}\n\n        <nav className=\"flex-1 p-4 space-y-2\">\n          {menuItems.map((item) => {\n            const isActive = pathname === item.href\n            const Icon = item.icon\n\n            if (item.external) {\n              return (\n                <a\n                  key={item.name}\n                  href={item.href}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className={cn(\n                    \"flex items-center gap-3 px-4 py-3 rounded-lg text-gray-800 hover:bg-yellow-500 transition-colors\",\n                  )}\n                  onClick={() => setIsOpen(false)}\n                >\n                  <Icon className=\"h-5 w-5\" />\n                  <span className=\"flex-1\">{item.name}</span>\n                  <ExternalLink className=\"h-4 w-4 text-gray-600\" />\n                </a>\n              )\n            }\n\n            return (\n              <Link\n                key={item.name}\n                href={item.href}\n                className={cn(\n                  \"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors\",\n                  isActive ? \"bg-gray-900 text-white font-semibold\" : \"text-gray-800 hover:bg-yellow-500\",\n                )}\n                onClick={() => setIsOpen(false)}\n              >\n                <Icon className=\"h-5 w-5\" />\n                <span>{item.name}</span>\n              </Link>\n            )\n          })}\n        </nav>\n\n        <div className=\"p-4 border-t border-yellow-500\">\n          <button\n            onClick={handleLogout}\n            className=\"flex items-center gap-3 w-full px-4 py-3 rounded-lg text-gray-800 hover:bg-red-500 hover:text-white transition-colors\"\n          >\n            <LogOut className=\"h-5 w-5\" />\n            <span>ログアウト</span>\n          </button>\n        </div>\n      </aside>\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AACA;;;AAlBA;;;;;;;AAoBA,MAAM,YAAY;IAChB;QACE,MAAM;QACN,MAAM;QACN,MAAM,4PAAe;QACrB,UAAU;IACZ;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,4PAAe;QACrB,UAAU;IACZ;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,mPAAY;QAClB,UAAU;IACZ;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,sPAAa;QACnB,UAAU;IACZ;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,gOAAO;QACb,UAAU;IACZ;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,mPAAY;QAClB,UAAU;IACZ;CACD;AAEM,SAAS;;IACd,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,mLAAQ,EAAC;IACrC,MAAM,WAAW,IAAA,8JAAW;IAC5B,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG,IAAA,uJAAO;IAEnC,MAAM,eAAe;QACnB,UAAU;QACV,MAAM;IACR;IAEA,qBACE;;0BACE,uMAAC;gBACC,SAAS,IAAM,UAAU;gBACzB,WAAU;gBACV,cAAW;0BAEX,cAAA,uMAAC,uNAAI;oBAAC,WAAU;;;;;;;;;;;YAGjB,wBAAU,uMAAC;gBAAI,WAAU;gBAAiC,SAAS,IAAM,UAAU;;;;;;0BAEpF,uMAAC;gBACC,WAAW,IAAA,+HAAE,EACX,qIACA,SAAS,kBAAkB;;kCAG7B,uMAAC;wBAAI,WAAU;;0CACb,uMAAC;gCAAG,WAAU;0CAAkC;;;;;;0CAChD,uMAAC;gCACC,SAAS,IAAM,UAAU;gCACzB,WAAU;gCACV,cAAW;0CAEX,cAAA,uMAAC,8MAAC;oCAAC,WAAU;;;;;;;;;;;;;;;;;oBAIhB,yBACC,uMAAC;wBAAI,WAAU;kCACb,cAAA,uMAAC;4BAAI,WAAU;;8CACb,uMAAC,0NAAK;oCAAC,WAAU;;;;;;8CACjB,uMAAC;oCAAK,WAAU;8CAAgC,QAAQ,UAAU;;;;;;;;;;;;;;;;;kCAKxE,uMAAC;wBAAI,WAAU;kCACZ,UAAU,GAAG,CAAC,CAAC;4BACd,MAAM,WAAW,aAAa,KAAK,IAAI;4BACvC,MAAM,OAAO,KAAK,IAAI;4BAEtB,IAAI,KAAK,QAAQ,EAAE;gCACjB,qBACE,uMAAC;oCAEC,MAAM,KAAK,IAAI;oCACf,QAAO;oCACP,KAAI;oCACJ,WAAW,IAAA,+HAAE,EACX;oCAEF,SAAS,IAAM,UAAU;;sDAEzB,uMAAC;4CAAK,WAAU;;;;;;sDAChB,uMAAC;4CAAK,WAAU;sDAAU,KAAK,IAAI;;;;;;sDACnC,uMAAC,mPAAY;4CAAC,WAAU;;;;;;;mCAXnB,KAAK,IAAI;;;;;4BAcpB;4BAEA,qBACE,uMAAC,oLAAI;gCAEH,MAAM,KAAK,IAAI;gCACf,WAAW,IAAA,+HAAE,EACX,kEACA,WAAW,yCAAyC;gCAEtD,SAAS,IAAM,UAAU;;kDAEzB,uMAAC;wCAAK,WAAU;;;;;;kDAChB,uMAAC;kDAAM,KAAK,IAAI;;;;;;;+BATX,KAAK,IAAI;;;;;wBAYpB;;;;;;kCAGF,uMAAC;wBAAI,WAAU;kCACb,cAAA,uMAAC;4BACC,SAAS;4BACT,WAAU;;8CAEV,uMAAC,iOAAM;oCAAC,WAAU;;;;;;8CAClB,uMAAC;8CAAK;;;;;;;;;;;;;;;;;;;;;;;;;AAMlB;GArGgB;;QAEG,8JAAW;QACA,uJAAO;;;KAHrB"}},
    {"offset": {"line": 320, "column": 0}, "map": {"version":3,"sources":["file:///Users/kawamotoshuntasuku/Desktop/dev/oneapp/components/notification-detail-dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport { X } from \"lucide-react\"\nimport { useEffect, useState } from \"react\"\n\ninterface Notification {\n  id: number\n  title: string\n  message: string\n  image_url?: string\n  created_at: string\n  is_read: boolean\n}\n\ninterface NotificationDetailDialogProps {\n  notification: Notification | null\n  isOpen: boolean\n  onClose: () => void\n}\n\nexport function NotificationDetailDialog({ notification, isOpen, onClose }: NotificationDetailDialogProps) {\n  const [isImageExpanded, setIsImageExpanded] = useState(false)\n\n  // ESCキーで閉じる\n  useEffect(() => {\n    const handleEsc = (e: KeyboardEvent) => {\n      if (e.key === \"Escape\") {\n        if (isImageExpanded) {\n          setIsImageExpanded(false)\n        } else {\n          onClose()\n        }\n      }\n    }\n    if (isOpen) {\n      document.addEventListener(\"keydown\", handleEsc)\n      document.body.style.overflow = \"hidden\"\n    }\n    return () => {\n      document.removeEventListener(\"keydown\", handleEsc)\n      document.body.style.overflow = \"\"\n    }\n  }, [isOpen, onClose, isImageExpanded])\n\n  // ダイアログが閉じたら画像拡大も閉じる\n  useEffect(() => {\n    if (!isOpen) {\n      setIsImageExpanded(false)\n    }\n  }, [isOpen])\n\n  if (!isOpen || !notification) return null\n\n  const formatDate = (dateString: string) => {\n    const date = new Date(dateString)\n    return date.toLocaleDateString(\"ja-JP\", {\n      timeZone: \"Asia/Tokyo\",\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    })\n  }\n\n  return (\n    <>\n      <div className=\"fixed inset-0 z-[100] flex items-center justify-center\">\n        {/* オーバーレイ */}\n        <div className=\"absolute inset-0 bg-black/50 backdrop-blur-sm\" onClick={onClose} />\n\n        {/* ダイアログ */}\n        <div className=\"relative bg-white rounded-xl shadow-2xl w-full max-w-lg mx-4 max-h-[90vh] overflow-hidden\">\n          {/* ヘッダー */}\n          <div className=\"flex items-center justify-between p-4 border-b border-gray-200 bg-yellow-400\">\n            <h2 className=\"font-bold text-gray-900 text-lg\">お知らせ詳細</h2>\n            <button onClick={onClose} className=\"p-1.5 rounded-md hover:bg-yellow-500 transition-colors\">\n              <X className=\"h-5 w-5 text-gray-900\" />\n            </button>\n          </div>\n\n          {/* コンテンツ */}\n          <div className=\"p-6 overflow-y-auto max-h-[calc(90vh-80px)]\">\n            <h3 className=\"text-xl font-bold text-gray-900 mb-2\">{notification.title}</h3>\n            <p className=\"text-sm text-gray-500 mb-4\">{formatDate(notification.created_at)}</p>\n\n            {/* 本文（プレーンテキストとして表示、改行を保持） */}\n            <div className=\"text-gray-700 whitespace-pre-wrap\">{notification.message}</div>\n\n            {notification.image_url && (\n              <div className=\"mt-4\">\n                <p className=\"text-xs text-gray-500 mb-2\">画像をダブルクリックで拡大表示</p>\n                <img\n                  src={notification.image_url || \"/placeholder.svg\"}\n                  alt=\"添付画像\"\n                  className=\"w-full rounded-lg border border-gray-200 cursor-pointer hover:opacity-90 transition-opacity\"\n                  onDoubleClick={() => setIsImageExpanded(true)}\n                />\n              </div>\n            )}\n          </div>\n\n          {/* フッター */}\n          <div className=\"p-4 border-t border-gray-200 bg-gray-50\">\n            <button\n              onClick={onClose}\n              className=\"w-full py-2.5 bg-gray-900 hover:bg-gray-800 text-white font-medium rounded-lg transition-colors\"\n            >\n              閉じる\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {isImageExpanded && notification.image_url && (\n        <div\n          className=\"fixed inset-0 z-[200] flex items-center justify-center bg-black/90\"\n          onClick={() => setIsImageExpanded(false)}\n        >\n          <button\n            onClick={() => setIsImageExpanded(false)}\n            className=\"absolute top-4 right-4 p-2 bg-white/10 hover:bg-white/20 rounded-full transition-colors\"\n          >\n            <X className=\"h-6 w-6 text-white\" />\n          </button>\n          <img\n            src={notification.image_url || \"/placeholder.svg\"}\n            alt=\"拡大画像\"\n            className=\"max-w-[95vw] max-h-[95vh] object-contain rounded-lg\"\n            onClick={(e) => e.stopPropagation()}\n          />\n          <p className=\"absolute bottom-4 left-1/2 -translate-x-1/2 text-white/70 text-sm\">\n            クリックまたはESCキーで閉じる\n          </p>\n        </div>\n      )}\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAoBO,SAAS,yBAAyB,EAAE,YAAY,EAAE,MAAM,EAAE,OAAO,EAAiC;;IACvG,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,mLAAQ,EAAC;IAEvD,YAAY;IACZ,IAAA,oLAAS;8CAAC;YACR,MAAM;gEAAY,CAAC;oBACjB,IAAI,EAAE,GAAG,KAAK,UAAU;wBACtB,IAAI,iBAAiB;4BACnB,mBAAmB;wBACrB,OAAO;4BACL;wBACF;oBACF;gBACF;;YACA,IAAI,QAAQ;gBACV,SAAS,gBAAgB,CAAC,WAAW;gBACrC,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;YACjC;YACA;sDAAO;oBACL,SAAS,mBAAmB,CAAC,WAAW;oBACxC,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;gBACjC;;QACF;6CAAG;QAAC;QAAQ;QAAS;KAAgB;IAErC,qBAAqB;IACrB,IAAA,oLAAS;8CAAC;YACR,IAAI,CAAC,QAAQ;gBACX,mBAAmB;YACrB;QACF;6CAAG;QAAC;KAAO;IAEX,IAAI,CAAC,UAAU,CAAC,cAAc,OAAO;IAErC,MAAM,aAAa,CAAC;QAClB,MAAM,OAAO,IAAI,KAAK;QACtB,OAAO,KAAK,kBAAkB,CAAC,SAAS;YACtC,UAAU;YACV,MAAM;YACN,OAAO;YACP,KAAK;YACL,MAAM;YACN,QAAQ;QACV;IACF;IAEA,qBACE;;0BACE,uMAAC;gBAAI,WAAU;;kCAEb,uMAAC;wBAAI,WAAU;wBAAgD,SAAS;;;;;;kCAGxE,uMAAC;wBAAI,WAAU;;0CAEb,uMAAC;gCAAI,WAAU;;kDACb,uMAAC;wCAAG,WAAU;kDAAkC;;;;;;kDAChD,uMAAC;wCAAO,SAAS;wCAAS,WAAU;kDAClC,cAAA,uMAAC,8MAAC;4CAAC,WAAU;;;;;;;;;;;;;;;;;0CAKjB,uMAAC;gCAAI,WAAU;;kDACb,uMAAC;wCAAG,WAAU;kDAAwC,aAAa,KAAK;;;;;;kDACxE,uMAAC;wCAAE,WAAU;kDAA8B,WAAW,aAAa,UAAU;;;;;;kDAG7E,uMAAC;wCAAI,WAAU;kDAAqC,aAAa,OAAO;;;;;;oCAEvE,aAAa,SAAS,kBACrB,uMAAC;wCAAI,WAAU;;0DACb,uMAAC;gDAAE,WAAU;0DAA6B;;;;;;0DAC1C,uMAAC;gDACC,KAAK,aAAa,SAAS,IAAI;gDAC/B,KAAI;gDACJ,WAAU;gDACV,eAAe,IAAM,mBAAmB;;;;;;;;;;;;;;;;;;0CAOhD,uMAAC;gCAAI,WAAU;0CACb,cAAA,uMAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;YAON,mBAAmB,aAAa,SAAS,kBACxC,uMAAC;gBACC,WAAU;gBACV,SAAS,IAAM,mBAAmB;;kCAElC,uMAAC;wBACC,SAAS,IAAM,mBAAmB;wBAClC,WAAU;kCAEV,cAAA,uMAAC,8MAAC;4BAAC,WAAU;;;;;;;;;;;kCAEf,uMAAC;wBACC,KAAK,aAAa,SAAS,IAAI;wBAC/B,KAAI;wBACJ,WAAU;wBACV,SAAS,CAAC,IAAM,EAAE,eAAe;;;;;;kCAEnC,uMAAC;wBAAE,WAAU;kCAAoE;;;;;;;;;;;;;;AAO3F;GAtHgB;KAAA"}},
    {"offset": {"line": 580, "column": 0}, "map": {"version":3,"sources":["file:///Users/kawamotoshuntasuku/Desktop/dev/oneapp/components/notification-bell.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useRef } from \"react\"\nimport { Bell, X, Plus } from \"lucide-react\"\nimport Link from \"next/link\"\nimport { NotificationDetailDialog } from \"./notification-detail-dialog\"\n\ninterface Notification {\n  id: number\n  title: string\n  message: string\n  image_url?: string\n  created_at: string\n  is_read: boolean\n}\n\nexport function NotificationBell() {\n  const [notifications, setNotifications] = useState<Notification[]>([])\n  const [isOpen, setIsOpen] = useState(false)\n  const [unreadCount, setUnreadCount] = useState(0)\n  const [selectedNotification, setSelectedNotification] = useState<Notification | null>(null)\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\n  const dropdownRef = useRef<HTMLDivElement>(null)\n\n  // 通知を取得\n  const fetchNotifications = async () => {\n    try {\n      const res = await fetch(\"/api/notifications\")\n      if (res.ok) {\n        const data = await res.json()\n        if (Array.isArray(data)) {\n          setNotifications(data)\n          setUnreadCount(data.filter((n: Notification) => !n.is_read).length)\n        }\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch notifications:\", error)\n    }\n  }\n\n  // 全て既読にする\n  const markAllAsRead = async () => {\n    try {\n      const res = await fetch(\"/api/notifications/read-all\", { method: \"POST\" })\n      if (res.ok) {\n        setNotifications((prev) => prev.map((n) => ({ ...n, is_read: true })))\n        setUnreadCount(0)\n      }\n    } catch (error) {\n      console.error(\"Failed to mark all as read:\", error)\n    }\n  }\n\n  // 個別の通知を既読にする\n  const markAsRead = async (id: number) => {\n    try {\n      await fetch(`/api/notifications/${id}/read`, { method: \"POST\" })\n      setNotifications((prev) => prev.map((n) => (n.id === id ? { ...n, is_read: true } : n)))\n      setUnreadCount((prev) => Math.max(0, prev - 1))\n    } catch (error) {\n      console.error(\"Failed to mark as read:\", error)\n    }\n  }\n\n  // 通知をクリックして詳細を表示\n  const handleNotificationClick = (notification: Notification) => {\n    setSelectedNotification(notification)\n    setIsDialogOpen(true)\n    if (!notification.is_read) {\n      markAsRead(notification.id)\n    }\n  }\n\n  useEffect(() => {\n    fetchNotifications()\n  }, [])\n\n  // ドロップダウン外クリックで閉じる\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setIsOpen(false)\n      }\n    }\n    document.addEventListener(\"mousedown\", handleClickOutside)\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside)\n  }, [])\n\n  const formatDate = (dateString: string) => {\n    if (!dateString) return \"\"\n\n    try {\n      // MySQLの日付形式 \"YYYY-MM-DD HH:mm:ss\" をパース\n      const cleanDateString = dateString.replace(\" \", \"T\")\n      const date = new Date(cleanDateString)\n\n      // Invalid Date チェック\n      if (isNaN(date.getTime())) {\n        console.log(\"[v0] Invalid date string:\", dateString)\n        return \"\"\n      }\n\n      return date.toLocaleDateString(\"ja-JP\", {\n        timeZone: \"Asia/Tokyo\",\n        month: \"numeric\",\n        day: \"numeric\",\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n      })\n    } catch (error) {\n      console.log(\"[v0] Date parse error:\", error)\n      return \"\"\n    }\n  }\n\n  return (\n    <>\n      <div className=\"relative\" ref={dropdownRef}>\n        {/* ベルアイコン */}\n        <button\n          onClick={() => setIsOpen(!isOpen)}\n          className=\"relative p-2 rounded-full hover:bg-gray-100 transition-colors\"\n          aria-label=\"お知らせ\"\n        >\n          <Bell className=\"h-6 w-6 text-gray-700\" />\n          {/* 未読バッジ */}\n          {unreadCount > 0 && (\n            <span className=\"absolute top-0 right-0 h-5 w-5 bg-red-500 rounded-full flex items-center justify-center text-white text-xs font-bold\">\n              {unreadCount > 9 ? \"9+\" : unreadCount}\n            </span>\n          )}\n        </button>\n\n        {/* ドロップダウン */}\n        {isOpen && (\n          <div className=\"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-200 z-50\">\n            {/* ヘッダー */}\n            <div className=\"flex items-center justify-between p-4 border-b border-gray-200\">\n              <h3 className=\"font-bold text-gray-900\">お知らせ</h3>\n              <div className=\"flex items-center gap-2\">\n                <Link\n                  href=\"/notifications/create\"\n                  className=\"p-1.5 rounded-md hover:bg-yellow-100 text-yellow-600\"\n                  title=\"お知らせを作成\"\n                  onClick={() => setIsOpen(false)}\n                >\n                  <Plus className=\"h-5 w-5\" />\n                </Link>\n                <button onClick={() => setIsOpen(false)} className=\"p-1.5 rounded-md hover:bg-gray-100\">\n                  <X className=\"h-5 w-5 text-gray-500\" />\n                </button>\n              </div>\n            </div>\n\n            {/* 通知リスト */}\n            <div className=\"max-h-80 overflow-y-auto\">\n              {notifications.length === 0 ? (\n                <div className=\"p-4 text-center text-gray-500\">お知らせはありません</div>\n              ) : (\n                notifications.map((notification) => (\n                  <button\n                    key={notification.id}\n                    onClick={() => handleNotificationClick(notification)}\n                    className={`w-full text-left p-4 border-b border-gray-100 last:border-b-0 hover:bg-gray-50 transition-colors ${\n                      !notification.is_read ? \"bg-yellow-50\" : \"\"\n                    }`}\n                  >\n                    <div className=\"flex items-start gap-2\">\n                      {!notification.is_read && (\n                        <span className=\"mt-1.5 h-2 w-2 bg-red-500 rounded-full flex-shrink-0\" />\n                      )}\n                      <div className=\"flex-1\">\n                        <h4 className=\"font-semibold text-gray-900 text-sm\">{notification.title}</h4>\n                        <p className=\"text-gray-600 text-sm mt-1 line-clamp-2\">\n                          {notification.message.replace(/<[^>]*>/g, \"\")}\n                        </p>\n                        <span className=\"text-gray-400 text-xs mt-2 block\">{formatDate(notification.created_at)}</span>\n                      </div>\n                    </div>\n                  </button>\n                ))\n              )}\n            </div>\n\n            {/* フッター */}\n            {notifications.length > 0 && unreadCount > 0 && (\n              <div className=\"p-3 border-t border-gray-200\">\n                <button\n                  onClick={markAllAsRead}\n                  className=\"w-full py-2 text-sm text-yellow-600 hover:text-yellow-700 font-medium\"\n                >\n                  すべて既読にする\n                </button>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* 詳細ダイアログ */}\n      <NotificationDetailDialog\n        notification={selectedNotification}\n        isOpen={isDialogOpen}\n        onClose={() => {\n          setIsDialogOpen(false)\n          setSelectedNotification(null)\n        }}\n      />\n    </>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 923, "column": 0}, "map": {"version":3,"sources":["file:///Users/kawamotoshuntasuku/Desktop/dev/oneapp/components/app-layout.tsx"],"sourcesContent":["\"use client\"\n\nimport type { ReactNode } from \"react\"\nimport { Sidebar } from \"./sidebar\"\nimport { NotificationBell } from \"./notification-bell\"\n\ninterface AppLayoutProps {\n  children: ReactNode\n}\n\nexport function AppLayout({ children }: AppLayoutProps) {\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* サイドバー */}\n      <Sidebar />\n\n      {/* メインコンテンツ */}\n      <div className=\"flex-1 flex flex-col min-h-screen\">\n        {/* ヘッダー（通知アイコン用） */}\n        <header className=\"sticky top-0 z-30 bg-white border-b border-gray-200 px-4 py-3\">\n          <div className=\"flex items-center justify-end\">\n            {/* ハンバーガーメニュー分のスペーサー */}\n            <div className=\"w-10\" />\n            <div className=\"flex-1\" />\n            <NotificationBell />\n          </div>\n        </header>\n\n        {/* ページコンテンツ */}\n        <main className=\"flex-1 p-4\">{children}</main>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAJA;;;;AAUO,SAAS,UAAU,EAAE,QAAQ,EAAkB;IACpD,qBACE,uMAAC;QAAI,WAAU;;0BAEb,uMAAC,8IAAO;;;;;0BAGR,uMAAC;gBAAI,WAAU;;kCAEb,uMAAC;wBAAO,WAAU;kCAChB,cAAA,uMAAC;4BAAI,WAAU;;8CAEb,uMAAC;oCAAI,WAAU;;;;;;8CACf,uMAAC;oCAAI,WAAU;;;;;;8CACf,uMAAC,oKAAgB;;;;;;;;;;;;;;;;kCAKrB,uMAAC;wBAAK,WAAU;kCAAc;;;;;;;;;;;;;;;;;;AAItC;KAvBgB"}}]
}