{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/kawamotoshuntasuku/Desktop/dev/oneapp/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,mLAAO,EAAC,IAAA,0JAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/kawamotoshuntasuku/Desktop/dev/oneapp/components/sidebar.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport Link from \"next/link\"\nimport { usePathname } from \"next/navigation\"\nimport {\n  LayoutDashboard,\n  FileSpreadsheet,\n  ClipboardList,\n  Package,\n  CalendarDays,\n  Menu,\n  X,\n  ExternalLink,\n} from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\n\nconst menuItems = [\n  {\n    name: \"ダッシュボード\",\n    href: \"/\",\n    icon: LayoutDashboard,\n    external: false,\n  },\n  {\n    name: \"スプレッドシート\",\n    href: \"/spreadsheet\",\n    icon: FileSpreadsheet,\n    external: false,\n  },\n  {\n    name: \"行事カレンダー\",\n    href: \"/calendar\",\n    icon: CalendarDays,\n    external: false,\n  },\n  {\n    name: \"日報\",\n    href: \"https://www.appsheet.com/start/43947cc3-3995-4964-9245-9131aa293b5e\",\n    icon: ClipboardList,\n    external: true,\n  },\n  {\n    name: \"備品発注\",\n    href: \"https://kawam0t0-orderwebapp20250502.vercel.app/login\",\n    icon: Package,\n    external: true,\n  },\n  {\n    name: \"シフト\",\n    href: \"https://connect.airregi.jp/login?client_id=SFT&redirect_uri=https%3A%2F%2Fconnect.airregi.jp%2Foauth%2Fauthorize%3Fclient_id%3DSFT%26redirect_uri%3Dhttps%253A%252F%252Fairshift.jp%252Fsft%252Fcallback%26response_type%3Dcode%26state%3DredirectTo%253A%25252Fsft%25252F\",\n    icon: ExternalLink,\n    external: true,\n  },\n]\n\nexport function Sidebar() {\n  const [isOpen, setIsOpen] = useState(false)\n  const pathname = usePathname()\n\n  return (\n    <>\n      <button\n        onClick={() => setIsOpen(true)}\n        className=\"fixed top-4 left-4 z-50 p-2 bg-white rounded-lg shadow-md\"\n        aria-label=\"メニューを開く\"\n      >\n        <Menu className=\"h-6 w-6 text-gray-700\" />\n      </button>\n\n      {isOpen && <div className=\"fixed inset-0 bg-black/50 z-40\" onClick={() => setIsOpen(false)} />}\n\n      <aside\n        className={cn(\n          \"fixed top-0 left-0 z-50 h-full w-64 bg-yellow-400 shadow-lg transform transition-transform duration-300 ease-in-out\",\n          isOpen ? \"translate-x-0\" : \"-translate-x-full\",\n        )}\n      >\n        <div className=\"flex items-center justify-between p-4 border-b border-yellow-500\">\n          <h1 className=\"text-lg font-bold text-gray-900\">ONEAPP</h1>\n          <button\n            onClick={() => setIsOpen(false)}\n            className=\"p-1 rounded-md hover:bg-yellow-500\"\n            aria-label=\"メニューを閉じる\"\n          >\n            <X className=\"h-5 w-5 text-gray-700\" />\n          </button>\n        </div>\n\n        <nav className=\"p-4 space-y-2\">\n          {menuItems.map((item) => {\n            const isActive = pathname === item.href\n            const Icon = item.icon\n\n            if (item.external) {\n              return (\n                <a\n                  key={item.name}\n                  href={item.href}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className={cn(\n                    \"flex items-center gap-3 px-4 py-3 rounded-lg text-gray-800 hover:bg-yellow-500 transition-colors\",\n                  )}\n                  onClick={() => setIsOpen(false)}\n                >\n                  <Icon className=\"h-5 w-5\" />\n                  <span className=\"flex-1\">{item.name}</span>\n                  <ExternalLink className=\"h-4 w-4 text-gray-600\" />\n                </a>\n              )\n            }\n\n            return (\n              <Link\n                key={item.name}\n                href={item.href}\n                className={cn(\n                  \"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors\",\n                  isActive ? \"bg-gray-900 text-white font-semibold\" : \"text-gray-800 hover:bg-yellow-500\",\n                )}\n                onClick={() => setIsOpen(false)}\n              >\n                <Icon className=\"h-5 w-5\" />\n                <span>{item.name}</span>\n              </Link>\n            )\n          })}\n        </nav>\n      </aside>\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;;;AAfA;;;;;;AAiBA,MAAM,YAAY;IAChB;QACE,MAAM;QACN,MAAM;QACN,MAAM,4PAAe;QACrB,UAAU;IACZ;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,4PAAe;QACrB,UAAU;IACZ;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,mPAAY;QAClB,UAAU;IACZ;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,sPAAa;QACnB,UAAU;IACZ;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,gOAAO;QACb,UAAU;IACZ;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,mPAAY;QAClB,UAAU;IACZ;CACD;AAEM,SAAS;;IACd,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,mLAAQ,EAAC;IACrC,MAAM,WAAW,IAAA,8JAAW;IAE5B,qBACE;;0BACE,uMAAC;gBACC,SAAS,IAAM,UAAU;gBACzB,WAAU;gBACV,cAAW;0BAEX,cAAA,uMAAC,uNAAI;oBAAC,WAAU;;;;;;;;;;;YAGjB,wBAAU,uMAAC;gBAAI,WAAU;gBAAiC,SAAS,IAAM,UAAU;;;;;;0BAEpF,uMAAC;gBACC,WAAW,IAAA,+HAAE,EACX,uHACA,SAAS,kBAAkB;;kCAG7B,uMAAC;wBAAI,WAAU;;0CACb,uMAAC;gCAAG,WAAU;0CAAkC;;;;;;0CAChD,uMAAC;gCACC,SAAS,IAAM,UAAU;gCACzB,WAAU;gCACV,cAAW;0CAEX,cAAA,uMAAC,8MAAC;oCAAC,WAAU;;;;;;;;;;;;;;;;;kCAIjB,uMAAC;wBAAI,WAAU;kCACZ,UAAU,GAAG,CAAC,CAAC;4BACd,MAAM,WAAW,aAAa,KAAK,IAAI;4BACvC,MAAM,OAAO,KAAK,IAAI;4BAEtB,IAAI,KAAK,QAAQ,EAAE;gCACjB,qBACE,uMAAC;oCAEC,MAAM,KAAK,IAAI;oCACf,QAAO;oCACP,KAAI;oCACJ,WAAW,IAAA,+HAAE,EACX;oCAEF,SAAS,IAAM,UAAU;;sDAEzB,uMAAC;4CAAK,WAAU;;;;;;sDAChB,uMAAC;4CAAK,WAAU;sDAAU,KAAK,IAAI;;;;;;sDACnC,uMAAC,mPAAY;4CAAC,WAAU;;;;;;;mCAXnB,KAAK,IAAI;;;;;4BAcpB;4BAEA,qBACE,uMAAC,oLAAI;gCAEH,MAAM,KAAK,IAAI;gCACf,WAAW,IAAA,+HAAE,EACX,kEACA,WAAW,yCAAyC;gCAEtD,SAAS,IAAM,UAAU;;kDAEzB,uMAAC;wCAAK,WAAU;;;;;;kDAChB,uMAAC;kDAAM,KAAK,IAAI;;;;;;;+BATX,KAAK,IAAI;;;;;wBAYpB;;;;;;;;;;;;;;AAKV;GA5EgB;;QAEG,8JAAW;;;KAFd"}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"sources":["file:///Users/kawamotoshuntasuku/Desktop/dev/oneapp/components/notification-detail-dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport { X } from \"lucide-react\"\nimport { useEffect, useState } from \"react\"\n\ninterface Notification {\n  id: number\n  title: string\n  message: string\n  image_url?: string\n  created_at: string\n  is_read: boolean\n}\n\ninterface NotificationDetailDialogProps {\n  notification: Notification | null\n  isOpen: boolean\n  onClose: () => void\n}\n\nexport function NotificationDetailDialog({ notification, isOpen, onClose }: NotificationDetailDialogProps) {\n  const [isImageExpanded, setIsImageExpanded] = useState(false)\n\n  // ESCキーで閉じる\n  useEffect(() => {\n    const handleEsc = (e: KeyboardEvent) => {\n      if (e.key === \"Escape\") {\n        if (isImageExpanded) {\n          setIsImageExpanded(false)\n        } else {\n          onClose()\n        }\n      }\n    }\n    if (isOpen) {\n      document.addEventListener(\"keydown\", handleEsc)\n      document.body.style.overflow = \"hidden\"\n    }\n    return () => {\n      document.removeEventListener(\"keydown\", handleEsc)\n      document.body.style.overflow = \"\"\n    }\n  }, [isOpen, onClose, isImageExpanded])\n\n  // ダイアログが閉じたら画像拡大も閉じる\n  useEffect(() => {\n    if (!isOpen) {\n      setIsImageExpanded(false)\n    }\n  }, [isOpen])\n\n  if (!isOpen || !notification) return null\n\n  const formatDate = (dateString: string) => {\n    const date = new Date(dateString)\n    return date.toLocaleDateString(\"ja-JP\", {\n      timeZone: \"Asia/Tokyo\",\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    })\n  }\n\n  return (\n    <>\n      <div className=\"fixed inset-0 z-[100] flex items-center justify-center\">\n        {/* オーバーレイ */}\n        <div className=\"absolute inset-0 bg-black/50 backdrop-blur-sm\" onClick={onClose} />\n\n        {/* ダイアログ */}\n        <div className=\"relative bg-white rounded-xl shadow-2xl w-full max-w-lg mx-4 max-h-[90vh] overflow-hidden\">\n          {/* ヘッダー */}\n          <div className=\"flex items-center justify-between p-4 border-b border-gray-200 bg-yellow-400\">\n            <h2 className=\"font-bold text-gray-900 text-lg\">お知らせ詳細</h2>\n            <button onClick={onClose} className=\"p-1.5 rounded-md hover:bg-yellow-500 transition-colors\">\n              <X className=\"h-5 w-5 text-gray-900\" />\n            </button>\n          </div>\n\n          {/* コンテンツ */}\n          <div className=\"p-6 overflow-y-auto max-h-[calc(90vh-80px)]\">\n            <h3 className=\"text-xl font-bold text-gray-900 mb-2\">{notification.title}</h3>\n            <p className=\"text-sm text-gray-500 mb-4\">{formatDate(notification.created_at)}</p>\n\n            {/* 本文（プレーンテキストとして表示、改行を保持） */}\n            <div className=\"text-gray-700 whitespace-pre-wrap\">{notification.message}</div>\n\n            {notification.image_url && (\n              <div className=\"mt-4\">\n                <p className=\"text-xs text-gray-500 mb-2\">画像をダブルクリックで拡大表示</p>\n                <img\n                  src={notification.image_url || \"/placeholder.svg\"}\n                  alt=\"添付画像\"\n                  className=\"w-full rounded-lg border border-gray-200 cursor-pointer hover:opacity-90 transition-opacity\"\n                  onDoubleClick={() => setIsImageExpanded(true)}\n                />\n              </div>\n            )}\n          </div>\n\n          {/* フッター */}\n          <div className=\"p-4 border-t border-gray-200 bg-gray-50\">\n            <button\n              onClick={onClose}\n              className=\"w-full py-2.5 bg-gray-900 hover:bg-gray-800 text-white font-medium rounded-lg transition-colors\"\n            >\n              閉じる\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {isImageExpanded && notification.image_url && (\n        <div\n          className=\"fixed inset-0 z-[200] flex items-center justify-center bg-black/90\"\n          onClick={() => setIsImageExpanded(false)}\n        >\n          <button\n            onClick={() => setIsImageExpanded(false)}\n            className=\"absolute top-4 right-4 p-2 bg-white/10 hover:bg-white/20 rounded-full transition-colors\"\n          >\n            <X className=\"h-6 w-6 text-white\" />\n          </button>\n          <img\n            src={notification.image_url || \"/placeholder.svg\"}\n            alt=\"拡大画像\"\n            className=\"max-w-[95vw] max-h-[95vh] object-contain rounded-lg\"\n            onClick={(e) => e.stopPropagation()}\n          />\n          <p className=\"absolute bottom-4 left-1/2 -translate-x-1/2 text-white/70 text-sm\">\n            クリックまたはESCキーで閉じる\n          </p>\n        </div>\n      )}\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAoBO,SAAS,yBAAyB,EAAE,YAAY,EAAE,MAAM,EAAE,OAAO,EAAiC;;IACvG,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,mLAAQ,EAAC;IAEvD,YAAY;IACZ,IAAA,oLAAS;8CAAC;YACR,MAAM;gEAAY,CAAC;oBACjB,IAAI,EAAE,GAAG,KAAK,UAAU;wBACtB,IAAI,iBAAiB;4BACnB,mBAAmB;wBACrB,OAAO;4BACL;wBACF;oBACF;gBACF;;YACA,IAAI,QAAQ;gBACV,SAAS,gBAAgB,CAAC,WAAW;gBACrC,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;YACjC;YACA;sDAAO;oBACL,SAAS,mBAAmB,CAAC,WAAW;oBACxC,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;gBACjC;;QACF;6CAAG;QAAC;QAAQ;QAAS;KAAgB;IAErC,qBAAqB;IACrB,IAAA,oLAAS;8CAAC;YACR,IAAI,CAAC,QAAQ;gBACX,mBAAmB;YACrB;QACF;6CAAG;QAAC;KAAO;IAEX,IAAI,CAAC,UAAU,CAAC,cAAc,OAAO;IAErC,MAAM,aAAa,CAAC;QAClB,MAAM,OAAO,IAAI,KAAK;QACtB,OAAO,KAAK,kBAAkB,CAAC,SAAS;YACtC,UAAU;YACV,MAAM;YACN,OAAO;YACP,KAAK;YACL,MAAM;YACN,QAAQ;QACV;IACF;IAEA,qBACE;;0BACE,uMAAC;gBAAI,WAAU;;kCAEb,uMAAC;wBAAI,WAAU;wBAAgD,SAAS;;;;;;kCAGxE,uMAAC;wBAAI,WAAU;;0CAEb,uMAAC;gCAAI,WAAU;;kDACb,uMAAC;wCAAG,WAAU;kDAAkC;;;;;;kDAChD,uMAAC;wCAAO,SAAS;wCAAS,WAAU;kDAClC,cAAA,uMAAC,8MAAC;4CAAC,WAAU;;;;;;;;;;;;;;;;;0CAKjB,uMAAC;gCAAI,WAAU;;kDACb,uMAAC;wCAAG,WAAU;kDAAwC,aAAa,KAAK;;;;;;kDACxE,uMAAC;wCAAE,WAAU;kDAA8B,WAAW,aAAa,UAAU;;;;;;kDAG7E,uMAAC;wCAAI,WAAU;kDAAqC,aAAa,OAAO;;;;;;oCAEvE,aAAa,SAAS,kBACrB,uMAAC;wCAAI,WAAU;;0DACb,uMAAC;gDAAE,WAAU;0DAA6B;;;;;;0DAC1C,uMAAC;gDACC,KAAK,aAAa,SAAS,IAAI;gDAC/B,KAAI;gDACJ,WAAU;gDACV,eAAe,IAAM,mBAAmB;;;;;;;;;;;;;;;;;;0CAOhD,uMAAC;gCAAI,WAAU;0CACb,cAAA,uMAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;YAON,mBAAmB,aAAa,SAAS,kBACxC,uMAAC;gBACC,WAAU;gBACV,SAAS,IAAM,mBAAmB;;kCAElC,uMAAC;wBACC,SAAS,IAAM,mBAAmB;wBAClC,WAAU;kCAEV,cAAA,uMAAC,8MAAC;4BAAC,WAAU;;;;;;;;;;;kCAEf,uMAAC;wBACC,KAAK,aAAa,SAAS,IAAI;wBAC/B,KAAI;wBACJ,WAAU;wBACV,SAAS,CAAC,IAAM,EAAE,eAAe;;;;;;kCAEnC,uMAAC;wBAAE,WAAU;kCAAoE;;;;;;;;;;;;;;AAO3F;GAtHgB;KAAA"}},
    {"offset": {"line": 508, "column": 0}, "map": {"version":3,"sources":["file:///Users/kawamotoshuntasuku/Desktop/dev/oneapp/components/notification-bell.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useRef } from \"react\"\nimport { Bell, X, Plus } from \"lucide-react\"\nimport Link from \"next/link\"\nimport { NotificationDetailDialog } from \"./notification-detail-dialog\"\n\ninterface Notification {\n  id: number\n  title: string\n  message: string\n  image_url?: string\n  created_at: string\n  is_read: boolean\n}\n\nexport function NotificationBell() {\n  const [notifications, setNotifications] = useState<Notification[]>([])\n  const [isOpen, setIsOpen] = useState(false)\n  const [unreadCount, setUnreadCount] = useState(0)\n  const [selectedNotification, setSelectedNotification] = useState<Notification | null>(null)\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\n  const dropdownRef = useRef<HTMLDivElement>(null)\n\n  // 通知を取得\n  const fetchNotifications = async () => {\n    try {\n      const res = await fetch(\"/api/notifications\")\n      if (res.ok) {\n        const data = await res.json()\n        if (Array.isArray(data)) {\n          setNotifications(data)\n          setUnreadCount(data.filter((n: Notification) => !n.is_read).length)\n        }\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch notifications:\", error)\n    }\n  }\n\n  // 全て既読にする\n  const markAllAsRead = async () => {\n    try {\n      const res = await fetch(\"/api/notifications/read-all\", { method: \"POST\" })\n      if (res.ok) {\n        setNotifications((prev) => prev.map((n) => ({ ...n, is_read: true })))\n        setUnreadCount(0)\n      }\n    } catch (error) {\n      console.error(\"Failed to mark all as read:\", error)\n    }\n  }\n\n  // 個別の通知を既読にする\n  const markAsRead = async (id: number) => {\n    try {\n      await fetch(`/api/notifications/${id}/read`, { method: \"POST\" })\n      setNotifications((prev) => prev.map((n) => (n.id === id ? { ...n, is_read: true } : n)))\n      setUnreadCount((prev) => Math.max(0, prev - 1))\n    } catch (error) {\n      console.error(\"Failed to mark as read:\", error)\n    }\n  }\n\n  // 通知をクリックして詳細を表示\n  const handleNotificationClick = (notification: Notification) => {\n    setSelectedNotification(notification)\n    setIsDialogOpen(true)\n    if (!notification.is_read) {\n      markAsRead(notification.id)\n    }\n  }\n\n  useEffect(() => {\n    fetchNotifications()\n  }, [])\n\n  // ドロップダウン外クリックで閉じる\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setIsOpen(false)\n      }\n    }\n    document.addEventListener(\"mousedown\", handleClickOutside)\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside)\n  }, [])\n\n  const formatDate = (dateString: string) => {\n    if (!dateString) return \"\"\n\n    try {\n      // MySQLの日付形式 \"YYYY-MM-DD HH:mm:ss\" をパース\n      const cleanDateString = dateString.replace(\" \", \"T\")\n      const date = new Date(cleanDateString)\n\n      // Invalid Date チェック\n      if (isNaN(date.getTime())) {\n        console.log(\"[v0] Invalid date string:\", dateString)\n        return \"\"\n      }\n\n      return date.toLocaleDateString(\"ja-JP\", {\n        timeZone: \"Asia/Tokyo\",\n        month: \"numeric\",\n        day: \"numeric\",\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n      })\n    } catch (error) {\n      console.log(\"[v0] Date parse error:\", error)\n      return \"\"\n    }\n  }\n\n  return (\n    <>\n      <div className=\"relative\" ref={dropdownRef}>\n        {/* ベルアイコン */}\n        <button\n          onClick={() => setIsOpen(!isOpen)}\n          className=\"relative p-2 rounded-full hover:bg-gray-100 transition-colors\"\n          aria-label=\"お知らせ\"\n        >\n          <Bell className=\"h-6 w-6 text-gray-700\" />\n          {/* 未読バッジ */}\n          {unreadCount > 0 && (\n            <span className=\"absolute top-0 right-0 h-5 w-5 bg-red-500 rounded-full flex items-center justify-center text-white text-xs font-bold\">\n              {unreadCount > 9 ? \"9+\" : unreadCount}\n            </span>\n          )}\n        </button>\n\n        {/* ドロップダウン */}\n        {isOpen && (\n          <div className=\"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-200 z-50\">\n            {/* ヘッダー */}\n            <div className=\"flex items-center justify-between p-4 border-b border-gray-200\">\n              <h3 className=\"font-bold text-gray-900\">お知らせ</h3>\n              <div className=\"flex items-center gap-2\">\n                <Link\n                  href=\"/notifications/create\"\n                  className=\"p-1.5 rounded-md hover:bg-yellow-100 text-yellow-600\"\n                  title=\"お知らせを作成\"\n                  onClick={() => setIsOpen(false)}\n                >\n                  <Plus className=\"h-5 w-5\" />\n                </Link>\n                <button onClick={() => setIsOpen(false)} className=\"p-1.5 rounded-md hover:bg-gray-100\">\n                  <X className=\"h-5 w-5 text-gray-500\" />\n                </button>\n              </div>\n            </div>\n\n            {/* 通知リスト */}\n            <div className=\"max-h-80 overflow-y-auto\">\n              {notifications.length === 0 ? (\n                <div className=\"p-4 text-center text-gray-500\">お知らせはありません</div>\n              ) : (\n                notifications.map((notification) => (\n                  <button\n                    key={notification.id}\n                    onClick={() => handleNotificationClick(notification)}\n                    className={`w-full text-left p-4 border-b border-gray-100 last:border-b-0 hover:bg-gray-50 transition-colors ${\n                      !notification.is_read ? \"bg-yellow-50\" : \"\"\n                    }`}\n                  >\n                    <div className=\"flex items-start gap-2\">\n                      {!notification.is_read && (\n                        <span className=\"mt-1.5 h-2 w-2 bg-red-500 rounded-full flex-shrink-0\" />\n                      )}\n                      <div className=\"flex-1\">\n                        <h4 className=\"font-semibold text-gray-900 text-sm\">{notification.title}</h4>\n                        <p className=\"text-gray-600 text-sm mt-1 line-clamp-2\">\n                          {notification.message.replace(/<[^>]*>/g, \"\")}\n                        </p>\n                        <span className=\"text-gray-400 text-xs mt-2 block\">{formatDate(notification.created_at)}</span>\n                      </div>\n                    </div>\n                  </button>\n                ))\n              )}\n            </div>\n\n            {/* フッター */}\n            {notifications.length > 0 && unreadCount > 0 && (\n              <div className=\"p-3 border-t border-gray-200\">\n                <button\n                  onClick={markAllAsRead}\n                  className=\"w-full py-2 text-sm text-yellow-600 hover:text-yellow-700 font-medium\"\n                >\n                  すべて既読にする\n                </button>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* 詳細ダイアログ */}\n      <NotificationDetailDialog\n        notification={selectedNotification}\n        isOpen={isDialogOpen}\n        onClose={() => {\n          setIsDialogOpen(false)\n          setSelectedNotification(null)\n        }}\n      />\n    </>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 851, "column": 0}, "map": {"version":3,"sources":["file:///Users/kawamotoshuntasuku/Desktop/dev/oneapp/components/app-layout.tsx"],"sourcesContent":["\"use client\"\n\nimport type { ReactNode } from \"react\"\nimport { Sidebar } from \"./sidebar\"\nimport { NotificationBell } from \"./notification-bell\"\n\ninterface AppLayoutProps {\n  children: ReactNode\n}\n\nexport function AppLayout({ children }: AppLayoutProps) {\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* サイドバー */}\n      <Sidebar />\n\n      {/* メインコンテンツ */}\n      <div className=\"flex-1 flex flex-col min-h-screen\">\n        {/* ヘッダー（通知アイコン用） */}\n        <header className=\"sticky top-0 z-30 bg-white border-b border-gray-200 px-4 py-3\">\n          <div className=\"flex items-center justify-end\">\n            {/* ハンバーガーメニュー分のスペーサー */}\n            <div className=\"w-10\" />\n            <div className=\"flex-1\" />\n            <NotificationBell />\n          </div>\n        </header>\n\n        {/* ページコンテンツ */}\n        <main className=\"flex-1 p-4\">{children}</main>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAJA;;;;AAUO,SAAS,UAAU,EAAE,QAAQ,EAAkB;IACpD,qBACE,uMAAC;QAAI,WAAU;;0BAEb,uMAAC,8IAAO;;;;;0BAGR,uMAAC;gBAAI,WAAU;;kCAEb,uMAAC;wBAAO,WAAU;kCAChB,cAAA,uMAAC;4BAAI,WAAU;;8CAEb,uMAAC;oCAAI,WAAU;;;;;;8CACf,uMAAC;oCAAI,WAAU;;;;;;8CACf,uMAAC,oKAAgB;;;;;;;;;;;;;;;;kCAKrB,uMAAC;wBAAK,WAAU;kCAAc;;;;;;;;;;;;;;;;;;AAItC;KAvBgB"}},
    {"offset": {"line": 940, "column": 0}, "map": {"version":3,"sources":["file:///Users/kawamotoshuntasuku/Desktop/dev/oneapp/lib/japanese-holidays.tsx"],"sourcesContent":["// 日本の祝日データ（2024年〜2030年）\n// 春分の日・秋分の日は天文学的計算に基づく\n\ninterface Holiday {\n  date: string\n  name: string\n}\n\n// 固定祝日\nconst FIXED_HOLIDAYS: { month: number; day: number; name: string }[] = [\n  { month: 1, day: 1, name: \"元日\" },\n  { month: 2, day: 11, name: \"建国記念の日\" },\n  { month: 2, day: 23, name: \"天皇誕生日\" },\n  { month: 4, day: 29, name: \"昭和の日\" },\n  { month: 5, day: 3, name: \"憲法記念日\" },\n  { month: 5, day: 4, name: \"みどりの日\" },\n  { month: 5, day: 5, name: \"こどもの日\" },\n  { month: 8, day: 11, name: \"山の日\" },\n  { month: 11, day: 3, name: \"文化の日\" },\n  { month: 11, day: 23, name: \"勤労感謝の日\" },\n]\n\n// ハッピーマンデー祝日\nconst HAPPY_MONDAY_HOLIDAYS: { month: number; week: number; name: string }[] = [\n  { month: 1, week: 2, name: \"成人の日\" }, // 1月第2月曜日\n  { month: 7, week: 3, name: \"海の日\" }, // 7月第3月曜日\n  { month: 9, week: 3, name: \"敬老の日\" }, // 9月第3月曜日\n  { month: 10, week: 2, name: \"スポーツの日\" }, // 10月第2月曜日\n]\n\n// 春分の日・秋分の日（年ごとに異なる）\nconst EQUINOX_DAYS: { [year: number]: { spring: number; autumn: number } } = {\n  2024: { spring: 20, autumn: 22 },\n  2025: { spring: 20, autumn: 23 },\n  2026: { spring: 20, autumn: 23 },\n  2027: { spring: 21, autumn: 23 },\n  2028: { spring: 20, autumn: 22 },\n  2029: { spring: 20, autumn: 23 },\n  2030: { spring: 20, autumn: 23 },\n}\n\n// 第n月曜日の日付を取得\nfunction getNthMonday(year: number, month: number, n: number): number {\n  const firstDay = new Date(year, month - 1, 1)\n  const firstMonday = firstDay.getDay() === 1 ? 1 : (8 - firstDay.getDay() + 1) % 7 || 7\n  return firstMonday + (n - 1) * 7\n}\n\n// 振替休日かチェック（日曜日が祝日の場合、翌月曜日）\nfunction getSubstituteHolidays(year: number, holidays: Holiday[]): Holiday[] {\n  const substitutes: Holiday[] = []\n  const holidayDates = new Set(holidays.map((h) => h.date))\n\n  for (const holiday of holidays) {\n    const date = new Date(holiday.date)\n    if (date.getDay() === 0) {\n      // 日曜日\n      // 次の平日を探す\n      const nextDay = new Date(date)\n      nextDay.setDate(nextDay.getDate() + 1)\n      while (holidayDates.has(formatDate(nextDay)) || nextDay.getDay() === 0) {\n        nextDay.setDate(nextDay.getDate() + 1)\n      }\n      substitutes.push({\n        date: formatDate(nextDay),\n        name: \"振替休日\",\n      })\n      holidayDates.add(formatDate(nextDay))\n    }\n  }\n\n  return substitutes\n}\n\n// 国民の休日（祝日に挟まれた平日）\nfunction getKokuninNoKyujitsu(year: number, holidays: Holiday[]): Holiday[] {\n  const kokuminHolidays: Holiday[] = []\n  const holidayDates = new Set(holidays.map((h) => h.date))\n\n  // 9月の敬老の日と秋分の日の間をチェック\n  const equinox = EQUINOX_DAYS[year]\n  if (equinox) {\n    const keirouDay = getNthMonday(year, 9, 3)\n    const autumnDay = equinox.autumn\n\n    if (autumnDay - keirouDay === 2) {\n      const betweenDate = `${year}-09-${String(keirouDay + 1).padStart(2, \"0\")}`\n      if (!holidayDates.has(betweenDate)) {\n        kokuminHolidays.push({\n          date: betweenDate,\n          name: \"国民の休日\",\n        })\n      }\n    }\n  }\n\n  return kokuminHolidays\n}\n\nfunction formatDate(date: Date): string {\n  return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, \"0\")}-${String(date.getDate()).padStart(2, \"0\")}`\n}\n\n// 指定年の祝日一覧を取得\nexport function getJapaneseHolidays(year: number): Holiday[] {\n  const holidays: Holiday[] = []\n\n  // 固定祝日\n  for (const h of FIXED_HOLIDAYS) {\n    holidays.push({\n      date: `${year}-${String(h.month).padStart(2, \"0\")}-${String(h.day).padStart(2, \"0\")}`,\n      name: h.name,\n    })\n  }\n\n  // ハッピーマンデー祝日\n  for (const h of HAPPY_MONDAY_HOLIDAYS) {\n    const day = getNthMonday(year, h.month, h.week)\n    holidays.push({\n      date: `${year}-${String(h.month).padStart(2, \"0\")}-${String(day).padStart(2, \"0\")}`,\n      name: h.name,\n    })\n  }\n\n  // 春分の日・秋分の日\n  const equinox = EQUINOX_DAYS[year]\n  if (equinox) {\n    holidays.push({\n      date: `${year}-03-${String(equinox.spring).padStart(2, \"0\")}`,\n      name: \"春分の日\",\n    })\n    holidays.push({\n      date: `${year}-09-${String(equinox.autumn).padStart(2, \"0\")}`,\n      name: \"秋分の日\",\n    })\n  }\n\n  // 振替休日\n  const substitutes = getSubstituteHolidays(year, holidays)\n  holidays.push(...substitutes)\n\n  // 国民の休日\n  const kokuminHolidays = getKokuninNoKyujitsu(year, holidays)\n  holidays.push(...kokuminHolidays)\n\n  return holidays.sort((a, b) => a.date.localeCompare(b.date))\n}\n\n// 指定日が祝日かチェック\nexport function getHolidayName(date: string): string | null {\n  const year = Number.parseInt(date.slice(0, 4))\n  const holidays = getJapaneseHolidays(year)\n  const holiday = holidays.find((h) => h.date === date)\n  return holiday ? holiday.name : null\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1158, "column": 0}, "map": {"version":3,"sources":["file:///Users/kawamotoshuntasuku/Desktop/dev/oneapp/app/calendar/page.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useState, useEffect } from \"react\"\nimport { AppLayout } from \"@/components/app-layout\"\nimport { ChevronLeft, ChevronRight, Plus, X } from \"lucide-react\"\nimport { getJapaneseHolidays } from \"@/lib/japanese-holidays\"\n\ninterface CalendarEvent {\n  id: number\n  title: string\n  date: string\n  color: string\n  isHoliday?: boolean\n  isClosed?: boolean // 店休日フラグを追加\n}\n\nconst COLORS = [\n  { name: \"赤\", value: \"#ef4444\" },\n  { name: \"青\", value: \"#3b82f6\" },\n  { name: \"緑\", value: \"#22c55e\" },\n  { name: \"黄\", value: \"#eab308\" },\n  { name: \"紫\", value: \"#a855f7\" },\n  { name: \"ピンク\", value: \"#ec4899\" },\n  { name: \"オレンジ\", value: \"#f97316\" },\n]\n\nexport default function CalendarPage() {\n  const [currentDate, setCurrentDate] = useState(new Date())\n  const [events, setEvents] = useState<CalendarEvent[]>([])\n  const [isModalOpen, setIsModalOpen] = useState(false)\n  const [selectedDate, setSelectedDate] = useState<string | null>(null)\n  const [newEventTitle, setNewEventTitle] = useState(\"\")\n  const [newEventColor, setNewEventColor] = useState(COLORS[0].value)\n  const [isLoading, setIsLoading] = useState(false)\n\n  const getHolidayEvents = (): CalendarEvent[] => {\n    const year = currentDate.getFullYear()\n    const holidays = getJapaneseHolidays(year)\n\n    // 前月と翌月の祝日も取得（カレンダー表示用）\n    const prevYearHolidays = year > 2024 ? getJapaneseHolidays(year - 1) : []\n    const nextYearHolidays = year < 2030 ? getJapaneseHolidays(year + 1) : []\n\n    const allHolidays = [...prevYearHolidays, ...holidays, ...nextYearHolidays]\n\n    return allHolidays.map((h, index) => ({\n      id: -index - 1, // 祝日は負のIDを使用\n      title: h.name,\n      date: h.date,\n      color: h.type === \"closed\" ? \"#6b7280\" : \"#ef4444\", // 店休日はグレー、祝日は赤\n      isHoliday: h.type === \"holiday\",\n      isClosed: h.type === \"closed\",\n    }))\n  }\n\n  // イベント取得\n  const fetchEvents = async () => {\n    try {\n      const year = currentDate.getFullYear()\n      const month = currentDate.getMonth() + 1\n      const res = await fetch(`/api/calendar?year=${year}&month=${month}`)\n      if (res.ok) {\n        const data = await res.json()\n        if (Array.isArray(data)) {\n          const holidayEvents = getHolidayEvents()\n          setEvents([...holidayEvents, ...data])\n        }\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch events:\", error)\n      // エラー時でも祝日は表示\n      setEvents(getHolidayEvents())\n    }\n  }\n\n  useEffect(() => {\n    fetchEvents()\n  }, [currentDate])\n\n  // 月を変更\n  const changeMonth = (delta: number) => {\n    setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() + delta, 1))\n  }\n\n  // 今日に戻る\n  const goToToday = () => {\n    setCurrentDate(new Date())\n  }\n\n  // カレンダーの日付を生成\n  const generateCalendarDays = () => {\n    const year = currentDate.getFullYear()\n    const month = currentDate.getMonth()\n    const firstDay = new Date(year, month, 1)\n    const lastDay = new Date(year, month + 1, 0)\n    const startDay = firstDay.getDay()\n    const daysInMonth = lastDay.getDate()\n\n    const days: { date: Date; isCurrentMonth: boolean }[] = []\n\n    // 前月の日付\n    const prevMonthLastDay = new Date(year, month, 0).getDate()\n    for (let i = startDay - 1; i >= 0; i--) {\n      days.push({\n        date: new Date(year, month - 1, prevMonthLastDay - i),\n        isCurrentMonth: false,\n      })\n    }\n\n    // 今月の日付\n    for (let i = 1; i <= daysInMonth; i++) {\n      days.push({\n        date: new Date(year, month, i),\n        isCurrentMonth: true,\n      })\n    }\n\n    // 次月の日付\n    const remainingDays = 42 - days.length\n    for (let i = 1; i <= remainingDays; i++) {\n      days.push({\n        date: new Date(year, month + 1, i),\n        isCurrentMonth: false,\n      })\n    }\n\n    return days\n  }\n\n  // 日付をフォーマット\n  const formatDateKey = (date: Date) => {\n    return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, \"0\")}-${String(date.getDate()).padStart(2, \"0\")}`\n  }\n\n  // イベント追加モーダルを開く\n  const openAddModal = (date: Date) => {\n    setSelectedDate(formatDateKey(date))\n    setNewEventTitle(\"\")\n    setNewEventColor(COLORS[0].value)\n    setIsModalOpen(true)\n  }\n\n  // イベントを追加\n  const addEvent = async () => {\n    if (!newEventTitle.trim() || !selectedDate) return\n\n    setIsLoading(true)\n    try {\n      const res = await fetch(\"/api/calendar\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          title: newEventTitle,\n          date: selectedDate,\n          color: newEventColor,\n        }),\n      })\n\n      if (res.ok) {\n        setIsModalOpen(false)\n        fetchEvents()\n      }\n    } catch (error) {\n      console.error(\"Failed to add event:\", error)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const deleteEvent = async (event: CalendarEvent, e: React.MouseEvent) => {\n    e.stopPropagation()\n    if (event.isHoliday || event.isClosed) return // 祝日と店休日は削除不可\n    if (!confirm(\"このイベントを削除しますか？\")) return\n\n    try {\n      const res = await fetch(`/api/calendar/${event.id}`, { method: \"DELETE\" })\n      if (res.ok) {\n        fetchEvents()\n      }\n    } catch (error) {\n      console.error(\"Failed to delete event:\", error)\n    }\n  }\n\n  const days = generateCalendarDays()\n  const today = new Date()\n  const todayKey = formatDateKey(today)\n  const weekDays = [\"日\", \"月\", \"火\", \"水\", \"木\", \"金\", \"土\"]\n\n  const holidayDates = new Set(events.filter((e) => e.isHoliday).map((e) => e.date))\n  const closedDates = new Set(events.filter((e) => e.isClosed).map((e) => e.date))\n\n  return (\n    <AppLayout>\n      <div className=\"min-h-screen bg-gray-50 p-4 md:p-6\">\n        {/* ヘッダー */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-4\">\n          <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n            <div className=\"flex items-center gap-4\">\n              <button\n                onClick={goToToday}\n                className=\"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium hover:bg-gray-50\"\n              >\n                今日\n              </button>\n              <div className=\"flex items-center gap-2\">\n                <button onClick={() => changeMonth(-1)} className=\"p-2 hover:bg-gray-100 rounded-lg\">\n                  <ChevronLeft className=\"h-5 w-5\" />\n                </button>\n                <button onClick={() => changeMonth(1)} className=\"p-2 hover:bg-gray-100 rounded-lg\">\n                  <ChevronRight className=\"h-5 w-5\" />\n                </button>\n              </div>\n              <h1 className=\"text-xl font-bold text-gray-900\">\n                {currentDate.getFullYear()}年{currentDate.getMonth() + 1}月\n              </h1>\n            </div>\n          </div>\n        </div>\n\n        {/* カレンダー */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden\">\n          {/* 曜日ヘッダー */}\n          <div className=\"grid grid-cols-7 border-b border-gray-200\">\n            {weekDays.map((day, index) => (\n              <div\n                key={day}\n                className={`py-3 text-center text-sm font-medium ${\n                  index === 0 ? \"text-red-500\" : index === 6 ? \"text-blue-500\" : \"text-gray-700\"\n                }`}\n              >\n                {day}\n              </div>\n            ))}\n          </div>\n\n          {/* 日付グリッド */}\n          <div className=\"grid grid-cols-7\">\n            {days.map((day, index) => {\n              const dateKey = formatDateKey(day.date)\n              const dayEvents = events.filter((e) => e.date === dateKey)\n              const isToday = dateKey === todayKey\n              const dayOfWeek = day.date.getDay()\n              const isHoliday = holidayDates.has(dateKey)\n              const isClosed = closedDates.has(dateKey)\n\n              return (\n                <div\n                  key={index}\n                  className={`min-h-[100px] md:min-h-[120px] border-b border-r border-gray-100 p-1 ${\n                    !day.isCurrentMonth ? \"bg-gray-50\" : \"\"\n                  }`}\n                >\n                  <div className=\"flex items-center justify-between mb-1\">\n                    <span\n                      className={`text-sm w-7 h-7 flex items-center justify-center rounded-full ${\n                        isToday\n                          ? \"bg-yellow-400 text-gray-900 font-bold\"\n                          : !day.isCurrentMonth\n                            ? \"text-gray-400\"\n                            : isHoliday || dayOfWeek === 0\n                              ? \"text-red-500\"\n                              : dayOfWeek === 6\n                                ? \"text-blue-500\"\n                                : isClosed\n                                  ? \"text-gray-500\"\n                                  : \"text-gray-700\"\n                      }`}\n                    >\n                      {day.date.getDate()}\n                    </span>\n                    {day.isCurrentMonth && (\n                      <button\n                        onClick={() => openAddModal(day.date)}\n                        className=\"p-1 hover:bg-gray-100 rounded opacity-0 hover:opacity-100 transition-opacity\"\n                      >\n                        <Plus className=\"h-4 w-4 text-gray-400\" />\n                      </button>\n                    )}\n                  </div>\n                  <div className=\"space-y-1\">\n                    {dayEvents.slice(0, 3).map((event) => (\n                      <div\n                        key={event.id}\n                        className={`group flex items-center gap-1 px-1.5 py-0.5 rounded text-xs truncate ${\n                          event.isHoliday\n                            ? \"bg-red-100 text-red-700\"\n                            : event.isClosed\n                              ? \"bg-gray-200 text-gray-700\" // 店休日のスタイル\n                              : \"text-white cursor-pointer\"\n                        }`}\n                        style={!event.isHoliday && !event.isClosed ? { backgroundColor: event.color } : undefined}\n                      >\n                        <span className=\"truncate flex-1\">{event.title}</span>\n                        {!event.isHoliday && !event.isClosed && (\n                          <button\n                            onClick={(e) => deleteEvent(event, e)}\n                            className=\"opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0\"\n                          >\n                            <X className=\"h-3 w-3\" />\n                          </button>\n                        )}\n                      </div>\n                    ))}\n                    {dayEvents.length > 3 && (\n                      <div className=\"text-xs text-gray-500 px-1\">+{dayEvents.length - 3}件</div>\n                    )}\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n        </div>\n\n        {/* イベント追加モーダル */}\n        {isModalOpen && (\n          <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-white rounded-lg shadow-xl w-full max-w-md\">\n              <div className=\"flex items-center justify-between p-4 border-b border-gray-200\">\n                <h2 className=\"text-lg font-bold text-gray-900\">イベントを追加</h2>\n                <button onClick={() => setIsModalOpen(false)} className=\"p-1 hover:bg-gray-100 rounded\">\n                  <X className=\"h-5 w-5 text-gray-500\" />\n                </button>\n              </div>\n              <div className=\"p-4 space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">日付</label>\n                  <input\n                    type=\"date\"\n                    value={selectedDate || \"\"}\n                    onChange={(e) => setSelectedDate(e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-transparent\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">タイトル</label>\n                  <input\n                    type=\"text\"\n                    value={newEventTitle}\n                    onChange={(e) => setNewEventTitle(e.target.value)}\n                    placeholder=\"イベント名を入力\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-transparent\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">色</label>\n                  <div className=\"flex gap-2 flex-wrap\">\n                    {COLORS.map((color) => (\n                      <button\n                        key={color.value}\n                        onClick={() => setNewEventColor(color.value)}\n                        className={`w-8 h-8 rounded-full border-2 ${\n                          newEventColor === color.value ? \"border-gray-900 scale-110\" : \"border-transparent\"\n                        }`}\n                        style={{ backgroundColor: color.value }}\n                        title={color.name}\n                      />\n                    ))}\n                  </div>\n                </div>\n              </div>\n              <div className=\"flex gap-3 p-4 border-t border-gray-200\">\n                <button\n                  onClick={addEvent}\n                  disabled={isLoading || !newEventTitle.trim()}\n                  className=\"flex-1 py-2 bg-yellow-400 text-gray-900 font-semibold rounded-lg hover:bg-yellow-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {isLoading ? \"追加中...\" : \"追加\"}\n                </button>\n                <button\n                  onClick={() => setIsModalOpen(false)}\n                  className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50\"\n                >\n                  キャンセル\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </AppLayout>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}