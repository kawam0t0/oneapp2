{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///Users/kawamotoshuntasuku/Desktop/dev/oneapp/app/api/notifications/%5Bid%5D/read/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\"\nimport mysql from \"mysql2/promise\"\n\nconst getConnection = async () => {\n  return await mysql.createConnection({\n    host: process.env.DB_HOST || \"34.67.209.187\",\n    port: Number.parseInt(process.env.DB_PORT || \"3306\"),\n    user: process.env.DB_USER || \"your_username\",\n    password: process.env.DB_PASSWORD || \"your_password\",\n    database: process.env.DB_NAME || \"your_database\",\n    ssl: {\n      rejectUnauthorized: false,\n    },\n  })\n}\n\n// 個別の通知を既読にする\nexport async function POST(request: Request, { params }: { params: Promise<{ id: string }> }) {\n  let connection\n  try {\n    const { id } = await params\n    connection = await getConnection()\n\n    await connection.execute(\"UPDATE notifications SET is_read = true WHERE id = ?\", [id])\n\n    return NextResponse.json({ success: true })\n  } catch (error) {\n    console.error(\"[v0] Mark notification as read error:\", error)\n    return NextResponse.json({ error: \"Failed to mark as read\" }, { status: 500 })\n  } finally {\n    if (connection) {\n      await connection.end()\n    }\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,gBAAgB;IACpB,OAAO,MAAM,wJAAK,CAAC,gBAAgB,CAAC;QAClC,MAAM,QAAQ,GAAG,CAAC,OAAO,IAAI;QAC7B,MAAM,OAAO,QAAQ,CAAC,QAAQ,GAAG,CAAC,OAAO,IAAI;QAC7C,MAAM,QAAQ,GAAG,CAAC,OAAO,IAAI;QAC7B,UAAU,QAAQ,GAAG,CAAC,WAAW,IAAI;QACrC,UAAU,QAAQ,GAAG,CAAC,OAAO,IAAI;QACjC,KAAK;YACH,oBAAoB;QACtB;IACF;AACF;AAGO,eAAe,KAAK,OAAgB,EAAE,EAAE,MAAM,EAAuC;IAC1F,IAAI;IACJ,IAAI;QACF,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM;QACrB,aAAa,MAAM;QAEnB,MAAM,WAAW,OAAO,CAAC,wDAAwD;YAAC;SAAG;QAErF,OAAO,0JAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAK;IAC3C,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yCAAyC;QACvD,OAAO,0JAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAyB,GAAG;YAAE,QAAQ;QAAI;IAC9E,SAAU;QACR,IAAI,YAAY;YACd,MAAM,WAAW,GAAG;QACtB;IACF;AACF"}}]
}